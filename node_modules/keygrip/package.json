{
  "_args": [
    [
      {
        "raw": "keygrip@git://github.com/crypto-utils/keygrip.git",
        "scope": null,
        "escapedName": "keygrip",
        "name": "keygrip",
        "rawSpec": "git://github.com/crypto-utils/keygrip.git",
        "spec": "git://github.com/crypto-utils/keygrip.git",
        "type": "hosted",
        "hosted": {
          "type": "github",
          "ssh": "git@github.com:crypto-utils/keygrip.git",
          "sshUrl": "git+ssh://git@github.com/crypto-utils/keygrip.git",
          "httpsUrl": "git+https://github.com/crypto-utils/keygrip.git",
          "gitUrl": "git://github.com/crypto-utils/keygrip.git",
          "shortcut": "github:crypto-utils/keygrip",
          "directUrl": "https://raw.githubusercontent.com/crypto-utils/keygrip/master/package.json"
        }
      },
      "/home/windi/coba/node_modules/node-cookie"
    ]
  ],
  "_from": "git://github.com/crypto-utils/keygrip.git",
  "_id": "keygrip@1.0.1",
  "_inCache": true,
  "_location": "/keygrip",
  "_phantomChildren": {},
  "_requested": {
    "raw": "keygrip@git://github.com/crypto-utils/keygrip.git",
    "scope": null,
    "escapedName": "keygrip",
    "name": "keygrip",
    "rawSpec": "git://github.com/crypto-utils/keygrip.git",
    "spec": "git://github.com/crypto-utils/keygrip.git",
    "type": "hosted",
    "hosted": {
      "type": "github",
      "ssh": "git@github.com:crypto-utils/keygrip.git",
      "sshUrl": "git+ssh://git@github.com/crypto-utils/keygrip.git",
      "httpsUrl": "git+https://github.com/crypto-utils/keygrip.git",
      "gitUrl": "git://github.com/crypto-utils/keygrip.git",
      "shortcut": "github:crypto-utils/keygrip",
      "directUrl": "https://raw.githubusercontent.com/crypto-utils/keygrip/master/package.json"
    }
  },
  "_requiredBy": [
    "/node-cookie"
  ],
  "_resolved": "git://github.com/crypto-utils/keygrip.git#f7b41c2f305cfa7030d7da9e64af9790aa3be93a",
  "_shasum": "c41469b6fe0ba4e36d450fce3fe57c5c2140dfee",
  "_shrinkwrap": null,
  "_spec": "keygrip@git://github.com/crypto-utils/keygrip.git",
  "_where": "/home/windi/coba/node_modules/node-cookie",
  "bugs": {
    "url": "https://github.com/crypto-utils/keygrip/issues"
  },
  "contributors": [
    {
      "name": "Douglas Christopher Wilson",
      "email": "doug@somethingdoug.com"
    },
    {
      "name": "Jed Schmidt",
      "email": "where@jed.is",
      "url": "http://jedschmidt.com"
    },
    {
      "name": "Jonathan Ong",
      "email": "me@jongleberry.com",
      "url": "http://jongleberry.com"
    }
  ],
  "dependencies": {
    "debug": "~2.1.3",
    "scmp": "1.0.0"
  },
  "description": "Key signing and verification for rotated credentials",
  "devDependencies": {
    "istanbul": "0.3.9",
    "mocha": "~2.2.4"
  },
  "engines": {
    "node": ">= 0.8"
  },
  "files": [
    "lib/",
    "History.md",
    "LICENSE",
    "README.md",
    "index.js"
  ],
  "gitHead": "f7b41c2f305cfa7030d7da9e64af9790aa3be93a",
  "homepage": "https://github.com/crypto-utils/keygrip#readme",
  "license": "MIT",
  "name": "keygrip",
  "optionalDependencies": {},
  "readme": "# keygrip\n\n[![NPM Version][npm-image]][npm-url]\n[![NPM Downloads][downloads-image]][downloads-url]\n[![Node.js Version][node-version-image]][node-version-url]\n[![Build Status][travis-image]][travis-url]\n[![Test Coverage][coveralls-image]][coveralls-url]\n\nKeygrip is a [node.js](http://nodejs.org/) module for signing and verifying data through a rotating credential system, in which new server keys can be added and old ones removed regularly, without invalidating client credentials.\n\n## Install\n\n    $ npm install keygrip\n\n## API\n\n### keys = Keygrip(keylist)\n\nThis creates a new Keygrip based on the provided `keylist`.\n\n```javascript\nvar Keygrip = require('keygrip')\nkeys = Keygrip([\"SEKRIT2\", \"SEKRIT1\"])\n```\n\nThe keylist is an array of all valid keys for signing, in descending order of freshness; new keys should be `unshift`ed into the array and old keys should be `pop`ped.\n\nThe tradeoff here is that adding more keys to the keylist allows for more granular freshness for key validation, at the cost of a more expensive worst-case scenario for old or invalid hashes.\n\nKeygrip keeps a reference to this array to automatically reflect any changes. This reference is stored using a closure to prevent external access.\n\nWhen using `Keygrip` to encrypt and decrypt data, each `key`'s length is important, as it should be at least the minimum key length for the cipher you are using, otherwise it'll be padded with NULs. The default cipher, AES 256, should be a 32 character string key, for example.\n\n### var buf = keys.sign(data)\n\nThis creates a HMAC based on the _first_ key in the keylist, and outputs it as a buffer.\n\nUses `.hash=` as the underlying algorithm.\n\n### var index = keys.indexOf(data)\n\nThis loops through all of the keys currently in the keylist until the digest of the current key matches the given digest, at which point the current index is returned. If no key is matched, `-1` is returned.\n\nThe idea is that if the index returned is greater than `0`, the data should be re-signed to prevent premature credential invalidation, and enable better performance for subsequent challenges.\n\n### var bool = keys.verify(data)\n\nThis uses `index` to return `true` if the digest matches any existing keys, and `false` otherwise.\n\n### var buf = keys.encrypt(message, [iv])\n\nCreates an encrypted message as a buffer based on the _first_ key in the keylist and optionally based on an initialization vector.\n\nUses `.cipher=` as the underlying algorithm.\nNote that `iv` length is important.\n\n### var [buf, i] = keys.decrypt(message, [iv])\n\nDecrypts a message, optionally with an initialization vector.\nReturns a buffer as `buf`.\nAlso returns `i`, the index of the `key` used.\nIf `i !== 0`, you may want to re-encrypt the message to use the latest key.\n\n### keys.hash=\n\nSet the hashing algorithm for signing, defaulting to `sha256`.\n\n### .cipher=\n\nSet the algorithm used for message encryption, defaulting to `aes-256-cbc`.\n\n## License\n\n[MIT](LICENSE)\n\n[npm-image]: https://img.shields.io/npm/v/keygrip.svg\n[npm-url]: https://npmjs.org/package/keygrip\n[node-version-image]: https://img.shields.io/node/v/keygrip.svg\n[node-version-url]: http://nodejs.org/download/\n[travis-image]: https://img.shields.io/travis/crypto-utils/keygrip/master.svg\n[travis-url]: https://travis-ci.org/crypto-utils/keygrip\n[coveralls-image]: https://img.shields.io/coveralls/crypto-utils/keygrip/master.svg\n[coveralls-url]: https://coveralls.io/r/crypto-utils/keygrip?branch=master\n[downloads-image]: https://img.shields.io/npm/dm/keygrip.svg\n[downloads-url]: https://npmjs.org/package/keygrip\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/crypto-utils/keygrip.git"
  },
  "scripts": {
    "test": "mocha --reporter spec --bail --check-leaks test/",
    "test-ci": "istanbul cover node_modules/mocha/bin/_mocha --report lcovonly -- --reporter spec --check-leaks test/",
    "test-cov": "istanbul cover node_modules/mocha/bin/_mocha -- --reporter dot --check-leaks test/"
  },
  "version": "1.0.1"
}
